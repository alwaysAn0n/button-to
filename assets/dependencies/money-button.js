/**
 * Copyright 2018 Yours Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is furnished
 * to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
 * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
 var moneyButton=function(a){"use strict";function b(a){switch(a.arrayFormat){case"index":return function(b,d,e){return null===d?[c(b,a),"[",e,"]"].join(""):[c(b,a),"[",c(e,a),"]=",c(d,a)].join("")};case"bracket":return function(b,d){return null===d?[c(b,a),"[]"].join(""):[c(b,a),"[]=",c(d,a)].join("")};default:return function(b,d){return null===d?c(b,a):[c(b,a),"=",c(d,a)].join("")};}}function c(a,b){return b.encode?b.strict?n(a):encodeURIComponent(a):a}function d(){q&&(q.parentNode.removeChild(q),q=null)}function e(a,b,c){d(),q=document.createElement("div"),q.setAttribute("style","display: flex; justify-content: center; font-family: sans-serif;");var e=document.getElementsByClassName("popup__moneybutton").item(0);e.appendChild(q);var f;"insufficient balance"===a?f="\n      <span class=\"title__moneybutton\">Low Balance</span>\n      <span class=\"text__moneybutton\">Your balance is too low to make this payment.</span>\n      <div class=\"buttonsWrapper__moneybutton\">\n        <a href=\"".concat(b,"/wallet\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"button__moneybutton red__moneybutton add__moneybutton\">Add Money</a>\n      </div>\n    "):"not logged in"===a?f="\n      <span class=\"title__moneybutton\">Money Button</span>\n      <span class=\"text__moneybutton\">We believe in sound digital money for everyone in the world. Join Money Button to make this payment.</span>\n      <div class=\"buttonsWrapper__moneybutton\">\n        <a href=\"".concat(b,"/register\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"button__moneybutton red__moneybutton\">Sign Up</a>\n        <a href=\"").concat(b,"/login\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"button__moneybutton nofill__moneybutton\">Log In</a>\n      </div>\n    "):"compatibility"===a?f="\n      <span class=\"title__moneybutton\">Compatibility problem</span>\n      <span class=\"text__moneybutton\">".concat(c,"</span>\n      <div class=\"buttonsWrapper__moneybutton\"></div>\n    "):"safari privacy"===a?f="\n      <span class=\"title__moneybutton\">Money Button</span>\n      <span class=\"text__moneybutton\">We believe in sound digital money for everyone in the world. Enable Money Button on Safari to make this payment.</span>\n      <div class=\"buttonsWrapper__moneybutton\">\n        <a href=\"https://blog.moneybutton.com/2018/09/24/how-to-enable-money-button-on-safari-and-ios/\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"button__moneybutton red__moneybutton\">Enable</a>\n      </div>\n    ":(console.error("unknown error code: ",a),f="\n      <span class=\"title__moneybutton\">Unknown Error</span>\n      <span class=\"text__moneybutton\">".concat(a,"</span>\n      <div class=\"buttonsWrapper__moneybutton\"></div>\n    ")),q.innerHTML="\n    <div class=\"close__moneybutton\"></div>\n    <div class=\"hint__moneybutton\">\n      <div class=\"content__moneybutton\">".concat(f,"</div>\n      <style>\n        .hint__moneybutton .button__moneybutton,\n        .hint__moneybutton .title__moneybutton{\n          font-weight:700\n        }\n        .hint__moneybutton .button__moneybutton,\n        .hint__moneybutton .content__moneybutton{\n            color:#fff;\n            box-sizing:border-box;\n            display:flex;\n            font-family: 'IBM Plex Sans', sans-serif;\n        }\n        .hint__moneybutton a{\n            text-decoration:none;\n        }\n        .hint__moneybutton{\n            min-width:254px;\n            position:fixed;\n            bottom: 10px;\n            right: 10px;\n            max-width: 300px;\n            z-index: 1000;\n        }\n        .hint__moneybutton .content__moneybutton{\n          top:0;\n          left:0;\n          right:0;\n          bottom:0;\n          z-index:1\n        }\n        .hint__moneybutton .content__moneybutton{\n            background-color:#191927;\n            padding:30px;\n            border-radius:10px;\n            bottom:19px;\n            left:0;\n            right:0;\n            flex-direction:column;\n            align-content:center;\n            align-items:flex-start;\n            min-width: 260px;\n        }\n        .hint__moneybutton .title__moneybutton{\n            font-size:20px;\n            margin-bottom:10px\n        }\n        .hint__moneybutton .text__moneybutton{\n            font-size:14px;\n            margin-bottom:20px\n        }\n        .hint__moneybutton .buttonsWrapper__moneybutton{\n            width:100%;\n            display:flex;\n            justify-content:space-between;\n            position:relative;\n            z-index:2\n        }\n        .hint__moneybutton .button__moneybutton{\n            text-align:center;\n            font-size:12px;\n            width:calc(50% - 10px);\n            height:35px;\n            padding:0 20px;\n            border-radius:20px;\n            align-items:center;\n            justify-content:center;\n            transition:all 250ms ease-out;\n            cursor:pointer\n        }\n        .hint__moneybutton .button__moneybutton.add__moneybutton {\n            width: auto;\n        }\n        .hint__moneybutton .button__moneybutton.red__moneybutton{\n            background-color:#e54d3f\n        }\n        .hint__moneybutton .button__moneybutton.red__moneybutton:hover{\n            background-color:#ce4134\n        }\n        .hint__moneybutton .button__moneybutton.nofill__moneybutton{\n            border:1px solid #fff\n        }\n        .hint__moneybutton .button__moneybutton.nofill__moneybutton:hover{\n            color:#191927;\n            background-color:#fff\n        }\n        .close__moneybutton {\n          background-color: rgba(255, 255, 255, 0.6);\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100vw;\n          height: 100vh;\n          z-index: 999;\n        }\n        @import url('https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,700');\n      </style>\n    </div>\n  ");var g=document.getElementsByClassName("close__moneybutton").item(0);g.addEventListener("click",d)}function f(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};for(g(a,b);a.firstChild;)a.removeChild(a.firstChild);var c=h(b);a.appendChild(c),a.style.position="relative",a.style.display="inline-block",a.style.width="280px",a.style.height="50px",window.addEventListener("message",i(b,a,c))}function g(a,b){if(!(a instanceof Element))throw new Error("The first argument must be of type Element.");if(!(a instanceof Object)||0===Object.keys(b).length)throw new Error("Please, specify the button's attributes.");if(void 0!==b.buttonData&&"string"!=typeof b.buttonData)throw new Error("\"buttonData\" should be a string.")}function h(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=document.createElement("iframe");b.style.border="none",b.style.width="280px",b.style.height="50px",b.scrolling="no";var c={to:a.to,amt:a.amount,ccy:a.currency,lbl:a.label,opd:a.opReturn,os:JSON.stringify(a.outputs),cid:a.clientIdentifier,bid:a.buttonId,bdt:a.buttonData,t:a.type,dev:a.devMode};return b.src="".concat("https://www.moneybutton.com","/iframe/v2?").concat(o(c)),b}function i(a,b,c){return function d(f){if(!document.body.contains(c))return void window.removeEventListener("message",d);if(f.source===c.contentWindow){if(console.log("Money Button: received message.",f.data),"https://www.moneybutton.com"!==f.origin)return void console.log("Money Button: postMessage: wrong origin: ".concat(f.origin," should be ").concat("https://www.moneybutton.com","."));var g=f.data,h=g.error,i=g.size,l=g.payment,m=g.message;h?("function"==typeof a.onError&&j(h)&&a.onError.call(window,new Error(h)),k(h)&&e(h,"https://www.moneybutton.com",m)):i?(b.style.width=i.width,b.style.height=i.height,c.style.width=i.width,c.style.height=i.height):l&&"function"==typeof a.onPayment&&a.onPayment.call(window,l)}}}function j(a){return"insufficient balance"===a||"unexpected error"===a}function k(a){return"unexpected error"!==a}function l(){var a=document.createElement("div");return a.className="popup__moneybutton",a.style.position="relative",a.style.display="flex",a.style.justifyContent="center",a}function m(a){var b={};for(var c in a){var d=a[c];if(!p.includes(c)){console.warn("Unexpected data attribute: ".concat(c,"."));continue}switch(c){case"outputs":var e=void 0;try{e=JSON.parse(d)}catch(a){e=null}e instanceof Array?b[c]=e:console.warn("The value provided for ".concat(c," is not a valid JSON array."));break;case"devMode":b[c]="true"===d;break;case"onPayment":case"onError":"function"==typeof window[d]?b[c]=window[d]:console.warn("The value provided for ".concat(c," is not a function in the global scope."));break;default:b[c]=d;}}return b}var n=function(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%".concat(a.charCodeAt(0).toString(16).toUpperCase())})},o=function(a,d){d=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},d),!1===d.sort&&(d.sort=function(){});var e=b(d);return a?Object.keys(a).sort(d.sort).map(function(b){var f=a[b];if(void 0===f)return"";if(null===f)return c(b,d);if(Array.isArray(f)){var g=[],h=!0,i=!1,j=void 0;try{for(var k,l,m=f.slice()[Symbol.iterator]();!(h=(k=m.next()).done);h=!0)(l=k.value,void 0!==l)&&g.push(e(b,l,g.length))}catch(a){i=!0,j=a}finally{try{h||null==m.return||m.return()}finally{if(i)throw j}}return g.join("&")}return c(b,d)+"="+c(f,d)}).filter(function(a){return 0<a.length}).join("&"):""},p=["to","amount","currency","label","opReturn","outputs","clientIdentifier","buttonId","buttonData","type","onPayment","onError","devMode"],q=null;return document.addEventListener("DOMContentLoaded",function(){var a=l();document.body.appendChild(a);for(var b,c=document.getElementsByClassName("money-button"),d=0;d<c.length;++d){b=c.item(d);try{var e=m(b.dataset);0<Object.keys(e).length&&f(b,e),console.log("Money Button: added button.")}catch(a){console.error("Money Button: adding button failed.",a)}}}),a.render=f,a}({});
//# sourceMappingURL=moneybutton.js.map


/*!
 * vue-money-button v0.0.5 (http://github.com/libitx)
 * An unofficial Vue.js component for Money Button.
 * (c) 2018 libitx
 * Released under the MIT License.
 */
